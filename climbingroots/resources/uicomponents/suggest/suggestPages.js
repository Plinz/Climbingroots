require.config({paths:{"xwiki-selectize":"$xwiki.getSkinFile('uicomponents/suggest/xwiki.selectize.js', true)?v=$escapetool.url($xwiki.version)"}});define("xwiki-suggestPages",["jquery","xwiki-selectize"],function(e){var b=$jsontool.serialize($services.icon.getMetaData("page_white"));var d="$!services.model.getEntityReference('DOCUMENT', 'default').name"||"WebHome";var c=function(f){var g=f.data("suggest-space");return{create:true,load:function(h,i){a(h,g).done(function(k){var j=[];k.searchResults.forEach(function(o){var n=o.hierarchy.items;var m=n.pop().label;if(o.pageName===d){m=n.pop().label}var q=n.filter(function(r){return r.type==="space"}).map(function(r){return r.label}).join(" / ");var p=new XWiki.Document(XWiki.Model.resolve(o.id,XWiki.EntityType.DOCUMENT));var l=p.getURL();j.push({value:o.pageFullName,label:m,icon:b,url:l,hint:q})});i(j)}).fail(i)}}};var a=function(h,g){var f=["name","title"];return e.getJSON(XWiki.Document.getRestSearchURL("",g),e.param({q:h,scope:f,number:10,localeAware:true,media:"json"},true))};e.fn.suggestPages=function(){return this.each(function(){e(this).xwikiSelectize(c(e(this)))})}});require(["jquery","xwiki-suggestPages","xwiki-events-bridge"],function(a){var b=function(d,e){var c=a((e&&e.elements)||document);c.find(".suggest-pages").suggestPages()};a(document).on("xwiki:dom:loaded xwiki:dom:updated",b);XWiki.domIsLoaded&&b()});